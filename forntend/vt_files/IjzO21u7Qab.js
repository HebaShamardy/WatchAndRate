/*!CK:1389955383!*//*1454901567,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["HgX0s"]); }

__d('VideoWatchAndScrollContainer.react',['DOM','DOMContainer.react','DOMDimensions','Event','Parent','React','ReactCSSTransitionGroup','Rect','SubscriptionsHandler','cancelAnimationFrame','csx','cx','getViewportDimensions','requestAnimationFrame','shallowCompare','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y;'use strict';var z=m.PropTypes,aa=300,ba=530,ca={NW:'nw',NE:'ne',SE:'se',SW:'sw'};x=babelHelpers.inherits(da,m.Component);y=x&&x.prototype;function da(ea,fa){y.constructor.call(this,ea,fa);this.state=this.$VideoWatchAndScrollContainer1(this.props);}da.prototype.$VideoWatchAndScrollContainer1=function(ea){var fa=this.$VideoWatchAndScrollContainer2(),ga=this.$VideoWatchAndScrollContainer3(this.props.initialPosition,fa);return {containerBoundingBox:fa,dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,height:ga.height,left:ga.left,resizeDirection:null,top:ga.top,width:ga.width};};da.prototype.shouldComponentUpdate=function(ea,fa){return v(this,ea,fa);};da.prototype.componentDidUpdate=function(ea,fa){if(!fa)return;if(!fa.dragging&&this.state.dragging){this.documentSubscriptions=new p();this.documentSubscriptions.addSubscriptions(k.listen(document,'mousemove',this.$VideoWatchAndScrollContainer4.bind(this)),k.listen(document,'mouseup',this.$VideoWatchAndScrollContainer5.bind(this)));}else if(fa.dragging&&!this.state.dragging)this.documentSubscriptions.release();};da.prototype.componentDidMount=function(){this.resizeListener=k.listen(window,'resize',w((function(){var ea=this.$VideoWatchAndScrollContainer2(),fa=this.$VideoWatchAndScrollContainer3({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},ea);this.setState({containerBoundingBox:ea,height:fa.height,left:fa.left,top:fa.top,width:fa.width});}).bind(this),100));};da.prototype.componentWillUnmount=function(){this.props.onInitialPositionUpdate({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width});if(this.documentSubscriptions)this.documentSubscriptions.release();if(this.resizeListener)this.resizeListener.remove();};da.prototype.$VideoWatchAndScrollContainer6=function(ea,event){this.$VideoWatchAndScrollContainer7(event,ea);};da.prototype.$VideoWatchAndScrollContainer8=function(event){this.$VideoWatchAndScrollContainer7(event,null);};da.prototype.$VideoWatchAndScrollContainer7=function(event,ea){if(event.button!==0)return;if(l.bySelector(event.target,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer2(),dragging:true,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:event.screenX,draggingStartMousePositionY:event.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:ea});event.preventDefault();};da.prototype.$VideoWatchAndScrollContainer2=function(){var ea=0,fa=h.scry(document.body,".fbChatSidebar");if(fa.length===1)ea=j.getElementDimensions(fa[0]).width;var ga=t.withoutScrollbars(),ha=new o(43,ga.width-ea,ga.height,0);return ha;};da.prototype.$VideoWatchAndScrollContainer3=function(ea,fa){var ga=new o(ea.top,ea.left+ea.width,ea.top+ea.height,ea.left);ga=ga.boundWithin(fa);return {height:ga.h(),left:ga.getLeft(),top:ga.getTop(),width:ga.w()};};da.prototype.$VideoWatchAndScrollContainer9=function(ea,fa,ga){var ha=ea.top,ia=fa.getTop(),ja=ia-ha;if(ja>0){if(ga===ca.NE||ga===ca.NW)ea.height-=ja;ea.top=ia;}var ka=ea.left,la=fa.getLeft(),ma=la-ka;if(ma>0){if(ga===ca.NW||ga===ca.SW)ea.width-=ma;ea.left=la;}var na=ea.top+ea.height,oa=fa.getTop()+fa.h(),pa=na-oa;if(pa>0)ea.height=oa-ea.top;var qa=ea.left+ea.width,ra=fa.getLeft()+fa.w(),sa=qa-ra;if(sa>0)ea.width=ra-ea.left;};da.prototype.$VideoWatchAndScrollContainer10=function(ea,fa,ga){if(ea.width<aa){if(ga===ca.NW||ga===ca.SW)ea.left-=aa-ea.width;ea.width=aa;}if(ea.height<aa){if(ga===ca.NE||ga===ca.NW)ea.top-=aa-ea.height;ea.height=aa;}};da.prototype.$VideoWatchAndScrollContainer11=function(ea,fa,ga){if(ea.width>ba){if(ga===ca.NW||ga===ca.SW)ea.left+=ea.width-ba;ea.width=ba;}if(ea.height>ba){if(ga===ca.NE||ga===ca.NW)ea.top+=ea.height-ba;ea.height=ba;}};da.prototype.$VideoWatchAndScrollContainer12=function(ea,fa,ga){var ha=ea.width/ea.height,ia=fa.width/fa.height;if(ha>ia){var ja=ea.height*ia;if(ga===ca.NW||ga===ca.SW)ea.left+=ea.width-ja;ea.width=ja;}else if(ha<ia){var ka=ea.width/ia;if(ga===ca.NE||ga===ca.NW)ea.top+=ea.height-ka;ea.height=ka;}};da.prototype.$VideoWatchAndScrollContainer13=function(ea,fa,ga,ha){this.$VideoWatchAndScrollContainer9(ea,ga,ha);this.$VideoWatchAndScrollContainer10(ea,fa,ha);this.$VideoWatchAndScrollContainer11(ea,fa,ha);this.$VideoWatchAndScrollContainer12(ea,fa,ha);return {height:ea.height,left:ea.left,top:ea.top,width:ea.width};};da.prototype.$VideoWatchAndScrollContainer4=function(event){q(this.dragUpdateRequestAnimationFrameID);this.dragUpdateRequestAnimationFrameID=u(this.$VideoWatchAndScrollContainer14.bind(this,event));};da.prototype.$VideoWatchAndScrollContainer14=function(event){if(!this.state.dragging)return;var ea=event.screenX-this.state.draggingStartMousePositionX,fa=event.screenY-this.state.draggingStartMousePositionY,ga=this.state.resizeDirection,ha;if(!ga){ha=this.$VideoWatchAndScrollContainer3({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+ea,top:this.state.draggingStartTop+fa,width:this.state.draggingStartWidth},this.state.containerBoundingBox);this.setState({height:ha.height,left:ha.left,top:ha.top,width:ha.width});}else{var ia=this.state.draggingStartHeight,ja=this.state.draggingStartLeft,ka=this.state.draggingStartTop,la=this.state.draggingStartWidth;if(ga===ca.NE||ga===ca.SE)la+=ea;if(ga===ca.NW||ga===ca.SW){ja+=ea;la-=ea;}if(ga===ca.SE||ga===ca.SW)ia+=fa;if(ga===ca.NE||ga===ca.NW){ka+=fa;ia-=fa;}ha=this.$VideoWatchAndScrollContainer13({height:ia,left:ja,top:ka,width:la},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,ga);this.setState({height:ha.height,left:ha.left,top:ha.top,width:ha.width});}event.preventDefault();};da.prototype.$VideoWatchAndScrollContainer5=function(event){q(this.dragUpdateRequestAnimationFrameID);this.props.onDrop();this.setState({dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null});event.preventDefault();};da.prototype.render=function(){var ea={height:Math.round(this.state.height)+'px',left:this.state.left+'px',top:this.state.top+'px',width:Math.round(this.state.width)+'px'};this.props.onInitialPositionUpdate({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width});return (m.createElement(n,{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:'fbWatchAndScroll-FadeIn'},m.createElement('div',{className:"_360g",style:ea},m.createElement('div',{className:"_52u8",onMouseDown:this.$VideoWatchAndScrollContainer8.bind(this)},m.createElement(i,null,this.props.videoElement)),m.createElement('div',{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.NW)}),m.createElement('div',{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.NE)}),m.createElement('div',{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.SE)}),m.createElement('div',{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.SW)}))));};da.propTypes={initialPosition:z.object.isRequired,onDrop:z.func.isRequired,onGrab:z.func.isRequired,onInitialPositionUpdate:z.func.isRequired,videoElement:z.instanceOf(HTMLElement).isRequired};f.exports=da;},null);
__d('VideoWatchAndScrollController',['CSS','DOM','DOMDimensions','EventListener','React','ReactDOM','SubscriptionsHandler','VideoAutoplayControllerX','VideoChainingCaller','VideoChannelStoryFetcher','VideoFrameBuffer','VideoPlayerLoggerEvent','VideoPlayerReason','VideoWatchAndScrollContainer.react','cancelAnimationFrame','cx','destroyOnUnload','getViewportDimensions','invariant','requestAnimationFrame','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){if(c.__markCompiled)c.__markCompiled();var ca=169,da=300,ea=10,fa=300,ga=300,ha=300,ia=2,ja=null;function ka(la,ma,na,oa){'use strict';this.$VideoWatchAndScrollController1=new n();this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController3=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController5=la;this.$VideoWatchAndScrollController6=ma;this.$VideoWatchAndScrollController7=na;this.$VideoWatchAndScrollController8=oa;this.$VideoWatchAndScrollController9=null;if(this.$VideoWatchAndScrollController8)this.$VideoWatchAndScrollController9=new q(this.$VideoWatchAndScrollController6,this.$VideoWatchAndScrollController5,this.$VideoWatchAndScrollController7,null);this.$VideoWatchAndScrollController10=ca;this.$VideoWatchAndScrollController11=da;this.$VideoWatchAndScrollController12=window.document.getElementById('leftCol');this.$VideoWatchAndScrollController13=window.document.getElementById('pagelet_bluebar');this.$VideoWatchAndScrollController14();x((function(){this.$VideoWatchAndScrollController15();if(this.$VideoWatchAndScrollController4)this.$VideoWatchAndScrollController16();if(this.$VideoWatchAndScrollController1)this.$VideoWatchAndScrollController1.release();if(this===ja)ja=null;}).bind(this));}ka.registerVideoController=function(la,ma,na,oa){'use strict';if(ja==null)ja=new ka(la.getVideoChannelID(),la.getVideoID(),ma,oa);ja.$VideoWatchAndScrollController1.addSubscriptions(la.addListener('enterWatchAndScroll',function(){if(ja)ja.$VideoWatchAndScrollController17(la);}),la.addListener('exitWatchAndScroll',function(){if(ja)ja.$VideoWatchAndScrollController18(la);}),la.addListener('WatchAndScroll/close',function(){if(ja)ja.$VideoWatchAndScrollController19();}));var pa=['beginPlayback','changeVolume','muteVideo','qualityChange','toggleFullscreen','unmuteVideo','VideoChannelController/enterChannel'];pa.forEach(function(event){if(ja)ja.$VideoWatchAndScrollController1.addSubscriptions(la.addListener(event,function(ra){if(ja)ja.$VideoWatchAndScrollController20(la,na,event,ra);}));});if(na){var qa=['pausePlayback','finishPlayback','muteVideo'];qa.forEach(function(event){if(ja)ja.$VideoWatchAndScrollController1.addSubscriptions(la.addListener(event,function(){if(ja)ja.$VideoWatchAndScrollController21(event);}));});}};ka.prototype.$VideoWatchAndScrollController20=function(la,ma,event,na){'use strict';if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController22!==la)this.$VideoWatchAndScrollController22.pause(t.USER);}else if(ma)if(event==='toggleFullscreen'&&la.isFullscreen()||event==='VideoChannelController/enterChannel'){if(this.$VideoWatchAndScrollController23)this.$VideoWatchAndScrollController15();}else if((event!=='beginPlayback'||Object(na).reason===t.USER)&&la.isState('playing')&&!la.isMuted()&&!la.isFullscreen()&&!la.getIsInChannel())this.$VideoWatchAndScrollController24(la);};ka.prototype.$VideoWatchAndScrollController21=function(event){'use strict';if(this.$VideoWatchAndScrollController25&&event==='pausePlayback'){this.$VideoWatchAndScrollController25=false;}else if(this.$VideoWatchAndScrollController23&&!this.$VideoWatchAndScrollController26)this.$VideoWatchAndScrollController15();};ka.prototype.$VideoWatchAndScrollController24=function(la){'use strict';var ma=la.getVideoNode();if(!ma.offsetParent)return;this.$VideoWatchAndScrollController23=la;this.$VideoWatchAndScrollController27=ba(this.$VideoWatchAndScrollController28.bind(this),100);window.addEventListener('resize',this.$VideoWatchAndScrollController27);this.$VideoWatchAndScrollController29(ma);this.$VideoWatchAndScrollController30();};ka.prototype.$VideoWatchAndScrollController28=function(){'use strict';if(this.$VideoWatchAndScrollController23){this.$VideoWatchAndScrollController29(this.$VideoWatchAndScrollController31||this.$VideoWatchAndScrollController23.getVideoNode());this.$VideoWatchAndScrollController32();}};ka.prototype.$VideoWatchAndScrollController33=function(la){'use strict';var ma={left:0,top:0};do{ma.top+=la.offsetTop;ma.left+=la.offsetLeft;}while(la=la.offsetParent);return ma;};ka.prototype.$VideoWatchAndScrollController29=function(la){'use strict';this.$VideoWatchAndScrollController34=this.$VideoWatchAndScrollController33(la);this.$VideoWatchAndScrollController35=la.scrollWidth;this.$VideoWatchAndScrollController36=la.scrollHeight;var ma=Math.max(this.$VideoWatchAndScrollController35,this.$VideoWatchAndScrollController36);if(ma<ha){var na=ha/ma;this.$VideoWatchAndScrollController35*=na;this.$VideoWatchAndScrollController36*=na;}var oa=y.withoutScrollbars();if(this.$VideoWatchAndScrollController12){var pa=this.$VideoWatchAndScrollController33(this.$VideoWatchAndScrollController12),qa=window.getComputedStyle(this.$VideoWatchAndScrollController12),ra=parseInt(qa.paddingTop,10);this.$VideoWatchAndScrollController37=pa.top+ra;if(this.$VideoWatchAndScrollController35>=this.$VideoWatchAndScrollController36){var sa=ha;}else sa=ha*this.$VideoWatchAndScrollController35/this.$VideoWatchAndScrollController36;if(pa.left<=this.$VideoWatchAndScrollController34.left){var ta=parseInt(qa.paddingRight,10),ua=pa.left+this.$VideoWatchAndScrollController12.scrollWidth-ta;this.$VideoWatchAndScrollController38=Math.max(ea,ua-this.$VideoWatchAndScrollController35);var va=Math.max(sa,ua-this.$VideoWatchAndScrollController38);}else{var wa=parseInt(qa.paddingLeft,10),xa=pa.left+wa,ya=oa.width-ea;va=Math.max(sa,Math.min(this.$VideoWatchAndScrollController35,ya-xa));this.$VideoWatchAndScrollController38=Math.min(xa,ya-va);}}else{va=da;this.$VideoWatchAndScrollController38=ea;this.$VideoWatchAndScrollController37=ea;if(this.$VideoWatchAndScrollController13)this.$VideoWatchAndScrollController37+=this.$VideoWatchAndScrollController13.scrollHeight;}this.$VideoWatchAndScrollController39=va/this.$VideoWatchAndScrollController35;this.$VideoWatchAndScrollController40=Math.abs(this.$VideoWatchAndScrollController34.left-this.$VideoWatchAndScrollController38)/ia;this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController34.top-this.$VideoWatchAndScrollController37;this.$VideoWatchAndScrollController42={isTriggered:(function(){return window.scrollY>this.$VideoWatchAndScrollController41;}).bind(this),getDistance:(function(){return window.scrollY-this.$VideoWatchAndScrollController41;}).bind(this),getTop:(function(za){return this.$VideoWatchAndScrollController37;}).bind(this)};};ka.prototype.$VideoWatchAndScrollController30=function(){'use strict';if((this.$VideoWatchAndScrollController43||this.$VideoWatchAndScrollController23.isState('playing'))&&!this.$VideoWatchAndScrollController23.isMuted()){this.$VideoWatchAndScrollController44(this.$VideoWatchAndScrollController45.bind(this));this.$VideoWatchAndScrollController45();}else this.$VideoWatchAndScrollController15();};ka.prototype.$VideoWatchAndScrollController45=function(){'use strict';if(this.$VideoWatchAndScrollController26||!this.$VideoWatchAndScrollController23)return;if(this.$VideoWatchAndScrollController42.isTriggered()){this.$VideoWatchAndScrollController26=this.$VideoWatchAndScrollController42;this.$VideoWatchAndScrollController46={left:this.$VideoWatchAndScrollController34.left-window.scrollX,top:this.$VideoWatchAndScrollController34.top-window.scrollY,width:this.$VideoWatchAndScrollController35,height:this.$VideoWatchAndScrollController36};h.addClass(this.$VideoWatchAndScrollController47(),"_5h98");this.$VideoWatchAndScrollController48=this.$VideoWatchAndScrollController23.addListener('stateChange',this.$VideoWatchAndScrollController49.bind(this));this.$VideoWatchAndScrollController50(this.$VideoWatchAndScrollController23,t.AUTOPLAY);this.$VideoWatchAndScrollController44(this.$VideoWatchAndScrollController51.bind(this));this.$VideoWatchAndScrollController51();}};ka.prototype.$VideoWatchAndScrollController51=function(){'use strict';if(!this.$VideoWatchAndScrollController26.isTriggered()){this.$VideoWatchAndScrollController52();var la=this.$VideoWatchAndScrollController23.isState('playing')||this.$VideoWatchAndScrollController48||this.$VideoWatchAndScrollController43;if(la){this.$VideoWatchAndScrollController43=this.$VideoWatchAndScrollController23.addListener('stateChange',this.$VideoWatchAndScrollController53.bind(this));h.addClass(this.$VideoWatchAndScrollController23.getRootNode(),"_5h9g");var ma=this.$VideoWatchAndScrollController23.getOption('VideoControls','areControlsVisible');if(!ma&&!this.$VideoWatchAndScrollController54)this.$VideoWatchAndScrollController54=this.$VideoWatchAndScrollController23.getOption('VideoControls','acquireForceHideLock');}this.$VideoWatchAndScrollController16();if(la)this.$VideoWatchAndScrollController23.play(t.AUTOPLAY);this.$VideoWatchAndScrollController30();}else if(!this.$VideoWatchAndScrollController55)this.$VideoWatchAndScrollController55=aa(this.$VideoWatchAndScrollController56.bind(this));};ka.prototype.$VideoWatchAndScrollController53=function(){'use strict';if(this.$VideoWatchAndScrollController43&&this.$VideoWatchAndScrollController23.isState('playing')&&!this.$VideoWatchAndScrollController25)this.$VideoWatchAndScrollController57();};ka.prototype.$VideoWatchAndScrollController49=function(){'use strict';if(this.$VideoWatchAndScrollController48&&this.$VideoWatchAndScrollController23.isState('playing')&&!this.$VideoWatchAndScrollController25)this.$VideoWatchAndScrollController58();};ka.prototype.$VideoWatchAndScrollController56=function(){'use strict';delete this.$VideoWatchAndScrollController55;var la=this.$VideoWatchAndScrollController26.getDistance(),ma=la>=this.$VideoWatchAndScrollController40,na=ma?1:la/this.$VideoWatchAndScrollController40,oa=this.$VideoWatchAndScrollController34.left+na*(this.$VideoWatchAndScrollController38-this.$VideoWatchAndScrollController34.left),pa=1-na*(1-this.$VideoWatchAndScrollController39),qa=pa*this.$VideoWatchAndScrollController36;this.$VideoWatchAndScrollController59.setState({left:oa-window.scrollX,top:this.$VideoWatchAndScrollController26.getTop(qa),width:pa*this.$VideoWatchAndScrollController35,height:qa});if(ma)this.$VideoWatchAndScrollController15();};ka.prototype.$VideoWatchAndScrollController44=function(la){'use strict';window.removeEventListener('scroll',this.$VideoWatchAndScrollController32);this.$VideoWatchAndScrollController32=la||null;window.addEventListener('scroll',this.$VideoWatchAndScrollController32);v(this.$VideoWatchAndScrollController55);delete this.$VideoWatchAndScrollController55;};ka.prototype.$VideoWatchAndScrollController15=function(){'use strict';window.removeEventListener('resize',this.$VideoWatchAndScrollController27);this.$VideoWatchAndScrollController44();if(this.$VideoWatchAndScrollController26)this.$VideoWatchAndScrollController52();if(this.$VideoWatchAndScrollController43)this.$VideoWatchAndScrollController57();if(this.$VideoWatchAndScrollController48)this.$VideoWatchAndScrollController58();delete this.$VideoWatchAndScrollController23;this.$VideoWatchAndScrollController14();};ka.prototype.$VideoWatchAndScrollController52=function(){'use strict';h.removeClass(this.$VideoWatchAndScrollController47(),"_5h98");delete this.$VideoWatchAndScrollController26;};ka.prototype.$VideoWatchAndScrollController57=function(){'use strict';h.removeClass(this.$VideoWatchAndScrollController23.getRootNode(),"_5h9g");if(this.$VideoWatchAndScrollController54){this.$VideoWatchAndScrollController54.release();delete this.$VideoWatchAndScrollController54;}this.$VideoWatchAndScrollController43.remove();delete this.$VideoWatchAndScrollController43;};ka.prototype.$VideoWatchAndScrollController58=function(){'use strict';this.$VideoWatchAndScrollController48.remove();delete this.$VideoWatchAndScrollController48;};ka.prototype.$VideoWatchAndScrollController17=function(la){'use strict';this.$VideoWatchAndScrollController15();if(this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController22!==la){this.$VideoWatchAndScrollController60=la;this.$VideoWatchAndScrollController16();}else this.$VideoWatchAndScrollController50(la,t.USER);};ka.prototype.$VideoWatchAndScrollController50=function(la,ma){'use strict';!!this.$VideoWatchAndScrollController4?z(0):undefined;this.$VideoWatchAndScrollController22=la;var na=la.getVideoInfo();if(na&&na.isLiveStream&&this.$VideoWatchAndScrollController22.isPlayerVersion('silvercity')){this.$VideoWatchAndScrollController10=ga;this.$VideoWatchAndScrollController11=fa;this.$VideoWatchAndScrollController14();}this.$VideoWatchAndScrollController61=this.$VideoWatchAndScrollController22.getRootNode();this.$VideoWatchAndScrollController62={videoRootNode:this.$VideoWatchAndScrollController61.parentNode,dimensions:j.getElementDimensions(this.$VideoWatchAndScrollController61)};this.$VideoWatchAndScrollController31=this.$VideoWatchAndScrollController63(this.$VideoWatchAndScrollController62.dimensions,this.$VideoWatchAndScrollController22.getVideoNode());i.insertAfter(this.$VideoWatchAndScrollController61,this.$VideoWatchAndScrollController31);this.$VideoWatchAndScrollController64=k.listen(this.$VideoWatchAndScrollController61.parentNode,'click',(function(){this.$VideoWatchAndScrollController15();this.$VideoWatchAndScrollController16();}).bind(this));this.$VideoWatchAndScrollController25=true;this.$VideoWatchAndScrollController22.pause(t.USER);this.$VideoWatchAndScrollController22.detachRootNode();this.$VideoWatchAndScrollController22.setDimensions(this.$VideoWatchAndScrollController11,this.$VideoWatchAndScrollController10);this.$VideoWatchAndScrollController4=true;this.$VideoWatchAndScrollController59=this.$VideoWatchAndScrollController65();this.$VideoWatchAndScrollController66=this.$VideoWatchAndScrollController67(this.$VideoWatchAndScrollController22);this.$VideoWatchAndScrollController22.play(ma);this.$VideoWatchAndScrollController22.logEvent(s.PLAYER_FORMAT_CHANGED,{player_format:'watch_scroll'});};ka.prototype.$VideoWatchAndScrollController14=function(){'use strict';var la=y.withoutScrollbars();this.$VideoWatchAndScrollController46={height:0+this.$VideoWatchAndScrollController10,left:ea,top:la.height-this.$VideoWatchAndScrollController10-ea,width:0+this.$VideoWatchAndScrollController11};};ka.prototype.$VideoWatchAndScrollController67=function(la){'use strict';if(la)return la.addListener('stateChange',function(){if(la.isState('playing')){o.setShouldAutoplay(false);}else o.setShouldAutoplay(true);});};ka.prototype.$VideoWatchAndScrollController63=function(la,ma){'use strict';var na=i.create('canvas',{className:"_308d"});na.height=la.height;na.width=la.width;if(na.getContext&&na.getContext('2d'))if(ma instanceof window.HTMLVideoElement){var oa=new r(na,ma);oa.updateFrameBuffer();}return na;};ka.prototype.$VideoWatchAndScrollController19=function(){'use strict';if(this.$VideoWatchAndScrollController23)this.$VideoWatchAndScrollController15();this.$VideoWatchAndScrollController16();};ka.prototype.$VideoWatchAndScrollController18=function(la){'use strict';!this.$VideoWatchAndScrollController4?z(0):undefined;!(la===this.$VideoWatchAndScrollController22)?z(0):undefined;this.$VideoWatchAndScrollController25=true;this.$VideoWatchAndScrollController22.pause(t.USER);this.$VideoWatchAndScrollController22.detachRootNode();m.unmountComponentAtNode(this.$VideoWatchAndScrollController47());i.remove(this.$VideoWatchAndScrollController31);delete this.$VideoWatchAndScrollController31;this.$VideoWatchAndScrollController64.remove();this.$VideoWatchAndScrollController66.remove();i.prependContent(this.$VideoWatchAndScrollController62.videoRootNode,this.$VideoWatchAndScrollController61);this.$VideoWatchAndScrollController22.setDimensions(this.$VideoWatchAndScrollController62.dimensions.width,this.$VideoWatchAndScrollController62.dimensions.height);this.$VideoWatchAndScrollController22.logEvent(s.PLAYER_FORMAT_CHANGED,{player_format:'inline'});this.$VideoWatchAndScrollController62={};this.$VideoWatchAndScrollController22=null;this.$VideoWatchAndScrollController4=false;o.setShouldAutoplay(true);this.$VideoWatchAndScrollController2=null;if(this.$VideoWatchAndScrollController60){this.$VideoWatchAndScrollController50(this.$VideoWatchAndScrollController60,t.USER);this.$VideoWatchAndScrollController60=null;}};ka.prototype.$VideoWatchAndScrollController65=function(){'use strict';return m.render(l.createElement(u,{onDrop:this.$VideoWatchAndScrollController68.bind(this),onGrab:this.$VideoWatchAndScrollController69.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController70.bind(this),initialPosition:this.$VideoWatchAndScrollController46,videoElement:this.$VideoWatchAndScrollController61}),this.$VideoWatchAndScrollController47());};ka.prototype.$VideoWatchAndScrollController16=function(){'use strict';if(this.$VideoWatchAndScrollController22)this.$VideoWatchAndScrollController22.emit('exitWatchAndScroll');};ka.prototype.$VideoWatchAndScrollController69=function(){'use strict';if(this.$VideoWatchAndScrollController23)this.$VideoWatchAndScrollController15();this.$VideoWatchAndScrollController71=this.$VideoWatchAndScrollController22.isState('playing');this.$VideoWatchAndScrollController22.pause(t.USER);};ka.prototype.$VideoWatchAndScrollController68=function(){'use strict';if(this.$VideoWatchAndScrollController71)this.$VideoWatchAndScrollController22.play(t.USER);this.$VideoWatchAndScrollController71=null;};ka.prototype.$VideoWatchAndScrollController70=function(la){'use strict';this.$VideoWatchAndScrollController46=la;this.$VideoWatchAndScrollController22.setDimensions(la.width,la.height);};ka.prototype.$VideoWatchAndScrollController72=function(){'use strict';var la=i.create('div');i.appendContent(document.body,la);return la;};ka.prototype.$VideoWatchAndScrollController47=function(){'use strict';if(!this.$VideoWatchAndScrollController2)this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController72();return this.$VideoWatchAndScrollController2;};f.exports=ka;},null);